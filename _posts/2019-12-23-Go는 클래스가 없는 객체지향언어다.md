---
title: "Go는 클래스가 없는 객체지향언어다 2019-12-23"
date: 2019-12-19 00:01:28 -0400
categories: Development
---

## Go는 클래스와 객체보다는 타입과 값을 갖는다.
Go는 객체지향 언어지만 전형적인 객체지향 언어와는 거리감이 있다.

Go에서는 다른 객체지향언어들과는 달리 값을 <mark>구조체</mark>로 받고, <mark>메소드</mark>는 함수처럼 분리해서 정의한다

따라서, Go를 배울 때에는, 객체에 대한 생각을 버리고, 올바른 용어를 사용하는데 집중을 하는게 가장 좋다.

## 구조체 -> 메소드 연결을 통해서 타 언어의 클래스 형식처럼 사용이 가능하다. 
전형적인 객체지향의 언어라면 클래스 안에 생성자와 메소드가 함께 정의한다.

```java
class Rectangle
   field Name: string
   field Width: float64
   field Height: float64
   method Area() 
       return this.Width * this.Height
```
하지만 go는 그렇지 않다, go는 <mark>구조체</mark>로 생성자를 선언하고, 메소드를 함수처럼 따로 분리한다. 

```go
type Rectangle struct {
    Name    string
    Width, Height float64
}

func (r Rectangle) Area() float64 {
    return r.Width * r.Height
}
```

## 포인터가 있다
Go는 전형적인 객체지향 언어들과는 달리 Pass by value를 사용한다.
그렇기 때문에 StayTheSame()에서는 m.a, m.b의 값이 변경되지 않고 
포인터로 값을 받는 Mutate()에서만 m.a, m.b의 값이 변경된다.
```go
type Mutatable struct {
    a int
    b int
}

func (m Mutatable) StayTheSame() {
    m.a = 5
    m.b = 7
}

func (m *Mutatable) Mutate() {
    m.a = 5
    m.b = 7
}

```

## 대/소문자만으로 Public과 Private를 결정할 수 있다.
다음은 중첩 구조체를 이용한 예시 코드이다.
```go
type Car struct { //대문자로 선언 - 외부에서도 사용 가능
	name    string 
	color   string 
	company string 
	detail  spec
}

type spec struct { //소문자로 선언 - 내부에서만 사용 가능
	length int 
	height int 
	width  int 
}
```

## 인터페이스
Go의 인터페이스 기능은 딱 2가지이다.
- 인터페이스 암시적 충족
- 인터페이스 타입

Go는 '오리처럼 걷고, 소리내고, 헤엄치면 오리라고 볼 수 있다' 라는 덕타이핑의 특징을 보인다.

이를 통해 직관적으로 어떤 메서드를 개발해야할지 한눈에 알 수 있다.
```go
// Go에는 implements 키워드가 없다.
type animal interface{
    run()
}

type Dog struct {
	name   string
	weight int
}

type Cat struct {
	name   string
	weight int
}

func (a Dog) run() {
	fmt.Println(animal.name, "is running now!")
}

func (a Cat) run() {
	fmt.Println(animal.name, "is running now!")
}
```

빈 인터페이스는 아래와 같이 모든 타입을 받고 반환시킬 수 있다. 
컴파일 언어인 go가 interface{}를 통해 개발 속도와 실행 속도 모두 빠른 것이다.
```go
//런타임에 형 변환을 한 후, 정적 타입의 값으로 변경해서 넘긴다.
func checkType(a interface{}) {
	switch a.(type) {
	case bool:
		fmt.Println("This is bool,", a)
	case int, int8, int16, int32, int64:
		fmt.Println("This is int,", a)
	case float32, float64:
		fmt.Println("This is float,", a)
	case nil:
		fmt.Println("This is nil,", a)
	case string:
		fmt.Println("This is string,", a)
	default:
		fmt.Println("This is not bool, int, float, nil, string!,", a)
	}
}
```





