---
title: "Mask Api를 만들면서 배운 점 2020-03-23"
date: 2020-03-23 11:11:28 -0400
categories: Development
---

# 🙇‍♂️ Mask Api를 만들면서 배운 점 🙇‍♂️

Github Repository - https://github.com/jjmin321/MaskInfo_api

## 1. 🔗 Json Link Data 사용법 🔗 

처음 프로젝트를 진행하려고 할 때 어떻게 값을 갖고올 수 있을지 고민하다가, 크롤링 하듯이 웹사이트 전체 코드를 읽어와서 디코딩을 해준 뒤 사용할 수 있었다.

## 2. 🖥️ Echo 프레임워크 사용법 🖥️

간단하고 성능이 괜찮은 프레임워크를 고민하다가, GO언어 서버 프레임워크인 Echo를 사용하게 되었다. 

## 3. 🍾 Goroutine - channel - 동기화 사용법 🍾

GO에서 주로 사용하는 고루틴(쓰레드) - 채널 을 통해 비동기적으로 값을 발신, 수신 하고 동기화를 통해 값을 모두 받은 뒤 프로그램을 종료하는 방식에 더욱 더 익숙해질 수 있었다.

## 4. 👨‍🌾 채널을 순회한 뒤 슬라이스에 값을 추가시키는 법 👨‍🌾

GO에서 slice - append를 통해 채널값을 순회하여 기존의 배열 값에 추가된 채널 값을 합치는 법에 익숙해질 수 있었다. 

## 5. 💠 인코딩을 하여 슬라이스를 다시 JSON으로 바꾸는 법 💠

Echo 에서는 인코딩 되지 않은 값을 자동으로 인코딩 해서 JSON값으로 반환해준다는 것을 알게 되었다. 

## 6. 🍭 어떤 사용자가 들어왔는지 로그를 통해 확인하는 법 🍭

middleware.LoggerWithConfig 함수를 통하여 내가 포맷 형식을 지정하고, 지정한 포맷 형식에 맞게 어떤 사용자가 들어왔는지 로그를 출력하는 법을 알게 되었다.

## 7. 🚛 잡다한 꿀팁 🚛

1. 버퍼크기는 절대 작게해서는 안된다. (처음에 예상값만큼 했다가 오류가 나서 수정했다. 또한 버퍼 크기를 넓혀도 큰 성능차이가 없어서 버퍼 크기를 크게 하는 것이 좋을 것 같다.)
2. Json으로 다시 인코딩 할 필요 없이 반환하면 된다. (처음에 인코딩 후 반환했다가 계속 JSON 값에 이상한 문자가 추가되어서 당황했다.)
3. 웬만하면 채널 값을 순회해서 슬라이스에 추가시킨 후 반환하는 것이 좋다. (채널에 값이 들어오지 않거나, 예상값을 벗어나면 동기화되어있어 무한로딩이 된다. 따라서 슬라이스로 반환하는 것이 좋다.)

